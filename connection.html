<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Offline.js</title>
  <link rel="stylesheet" href="themes/offline-theme-chrome.css"><!-- offline-theme-default -->
  <link rel="stylesheet" href="themes/offline-language-english.css">
  <script src="jquery-1.11.3.js"></script>
  <script src="offline.js"></script>
  <!--<script src="simulate-ui.js"></script>-->
</head>
<body>

<h1>CHECK INTERNET CONNECTION</h1>
	
<div id="cekKonek" style="display:none;">TRY <button id="konek">KONEK</button></div>

<script>
$(function(){
// var $online = $('#cekKonek');
//     //$offline = $('.offline');

// Offline.on('confirmed-down', function () {
//   $online.show();
// });

// Offline.on('confirmed-up', function () {
//   $online.hide();
// });

// Offline.options = {
//   game:false,
//   checks:{
//     image:{
//       url:'http://localhost/BUILD_APP/offline/macbook-pro.png'
//     }
//   }
// };
// Offline.check();
// var run = function(){
//   if(Offline.state === 'down'){
//     $("#cekKonek").show();
//   }
//   else{
//     $("#cekKonek").hide();
//   }
//   // else if(Offline.state === 'down'){

//   // }
// };
// setInterval(run,1500);

// Offline.on("up",function(){
//   $("#cekKonek").hide();
// });


// alert(Offline.check());
// Offline.on('up',function(){
//   alert("IDUP")
// });
// Offline.on('down',function(){
//   alert("MATI")
// });

// connectionStatus = navigator.onLine ? 'online' : 'offline';
// console.log(connectionStatus);

// Offline.options = {checks: {xhr: {url: 'http://localhost/BUILD_APP/offline/try.php'}}};
//Offline.on('up', handler, context);

// setTimeout(function(){ document.body.className = 'page-loaded' }, 0);

  // var themes = [{
  //   name: 'default',
  //   title: 'Default'
  // }, {
  //   name: 'slide',
  //   title: 'Slide'
  // }, {
  //   name: 'dark',
  //   title: 'Dark'
  // }, {
  //   name: 'chrome',
  //   title: 'Chrome'
  // }];
  // var indicatorThemes = [{
  //   name: 'default-indicator',
  //   title: 'Default'
  // }, {
  //   name: 'slide-indicator',
  //   title: 'Slide'
  // }, {
  //   name: 'dark-indicator',
  //   title: 'Dark'
  // }, {
  //   name: 'chrome-indicator',
  //   title: 'Chrome'
  // }];
  // var addThemes = function(themes, selector) {
  //   $.each(themes, function(i, theme) {
  //     $(selector).append('<div class="theme ' + (i % 2 === 0 ? 'even' : 'odd') + '">' +
  //       '<h3>' + theme.title + '</h3>' +
  //       '<p><a href="/offline/themes/offline-theme-' + theme.name + '.css" class="download-link">download</a></p>' +
  //       '<div class="browser"><iframe data-theme="' + theme.name + '"></iframe></div>' +
  //       '</div>');
  //   });
  // };
  // addThemes(themes, '.full-themes');
  // addThemes(indicatorThemes, '.indicator-themes');
  // $('.browser iframe').each(function() {
  //   var _this = this;
  //   var themeName = $(this).data('theme');
  //   doc = (this.contentWindow || this.documentWindow).document;
  //   doc.open();
  //   doc.write('' +
  //     '<link rel="stylesheet" href="/offline/themes/offline-theme-' + themeName + '.css" />' +
  //     '<link rel="stylesheet" href="/offline/themes/offline-language-english' + (themeName.match(/\-indicator$/) ? '-indicator' : '') + '.css" />' +
  //     '<div data-phase="0" class="offline-ui offline-ui-down offline-ui-down-5s"><div class="offline-ui-content"></div><a class="offline-ui-retry"></a></div>' +
  //     '');
  //   doc.close();
  // });

  // var phases = [
  //   [5, 'offline-ui offline-ui-down offline-ui-down-5s', '', ''],
  //   [3, 'offline-ui offline-ui-down offline-ui-connecting offline-ui-waiting', '5 seconds', '5s'],
  //   [1, 'offline-ui offline-ui-down offline-ui-connecting offline-ui-waiting', '4 seconds', '4s'],
  //   [1, 'offline-ui offline-ui-down offline-ui-connecting offline-ui-waiting', '3 seconds', '3s'],
  //   [1, 'offline-ui offline-ui-down offline-ui-connecting offline-ui-waiting', '2 seconds', '2s'],
  //   [1, 'offline-ui offline-ui-down offline-ui-connecting offline-ui-waiting', '1 seconds', '1s'],
  //   [1, 'offline-ui offline-ui-up offline-ui-up-5s', '', '']
  // ];
  // var nextPhase = function() {
  //   var phase;
  //   $('.browser iframe').each(function() {
  //     var $offline = $(this).contents().find('.offline-ui'),
  //       $content = $offline.find('.offline-ui-content');
  //     phase = parseInt($offline.attr('data-phase'), 10);
  //     $offline.get(0).className = phases[phase][1];
  //     $content.attr('data-retry-in', phases[phase][2]);
  //     $content.attr('data-retry-in-abbr', phases[phase][3]);
  //     phase = (phase + 1) % phases.length;
  //     $offline.attr('data-phase', phase);
  //   });
  //   setTimeout(function() {
  //     nextPhase();
  //   }, phases[phase][0] * 1000);
  // };
  // nextPhase();

// var $online = $('.online'),
//     $offline = $('.offline');

// Offline.on('confirmed-down', function () {
//     $online.fadeOut(function () {
//         $offline.fadeIn();
//     });
// });

// Offline.on('confirmed-up', function () {
//     $offline.fadeOut(function () {
//         $online.fadeIn();
//     });
// });

Offline.options = {
  // Should we check the connection status immediatly on page load.
  checkOnLoad:false,

  // Should we monitor AJAX requests to help decide if we have a connection.
  interceptRequests: true,

  // Should we automatically retest periodically when the connection is down (set to false to disable).
  reconnect: {
    // How many seconds should we wait before rechecking.
    initialDelay:1

    // How long should we wait between retries.
    //delay: 1.5
  },
  // Should we store and attempt to remake requests which fail while the connection is down.
  requests:true
}

});
</script>	
</body></html>
